<div class="p-3 h-100">
  <div class="h-100 container-fluid">
    <div class="row h-100">
      <div class="col-5 border rounded me-3 p-3 d-flex flex-column">
        <div class="d-flex flex-row mb-3 align-items-center">
          <h6 class="flex-grow-1 fw-bold">Users</h6>
        </div>
        <div id="user-component-user-list-container" class="flex-grow-1">
          <angular-slickgrid
            gridId="user-component-user-list"
            [columnDefinitions]="columnDefinitions"
            [gridOptions]="gridOptions"
            [dataset]="usersList"
          >
          </angular-slickgrid>
        </div>
      </div>

      <div
        [formGroup]="usersMergeForm"
        class="col-3 bg-light border p-0 rounded h-100 d-flex flex-column"
      >
        <div class="d-flex flex-row align-items-center p-3">
          <h6 class="flex-grow-1 fw-bold">Add / Edit</h6>
          <button
            [disabled]="isLoading"
            (click)="save()"
            type="button"
            class="btn btn-primary me-2"
          >
            Save
          </button>
          <button
            [disabled]="isLoading"
            (click)="resetForm()"
            type="button"
            class="btn btn-outline-primary "
          >
            Reset
          </button>
        </div>
        <div class="w-100 p-3 flex-grow-1 overflow-auto" style="height: 0px">
          <div class="mb-3">
            <div class="input-group input-group-sm">
              <span class="input-group-text bg-secondary text-primary" id="name"
                >Name</span
              >
              <input
                type="text"
                class="form-control"
                formControlName="name"
                placeholder=""
              />
            </div>
            <div
              *ngIf="
                usersMergeForm.controls.name.invalid &&
                (usersMergeForm.controls.name.dirty ||
                  usersMergeForm.controls.name.touched)
              "
              class="py-1 px-2 mt-1"
            >
              <div
                class="small text-danger"
                *ngIf="usersMergeForm.controls.name.errors?.['required']"
              >
                required
              </div>
            </div>
          </div>
          <div class="mb-3">
            <div class="input-group input-group-sm">
              <span
                class="input-group-text bg-secondary text-primary"
                id="email"
                >Email</span
              >
              <input
                type="email"
                class="form-control"
                formControlName="email"
                placeholder=""
              />
            </div>
            <div
              *ngIf="
                usersMergeForm.controls.email.invalid &&
                (usersMergeForm.controls.email.dirty ||
                  usersMergeForm.controls.email.touched)
              "
              class="py-1 px-2 mt-1"
            >
              <div
                class="small text-danger"
                *ngIf="usersMergeForm.controls.email.errors?.['required']"
              >
                required
              </div>
              <div
            class="small text-danger"
            *ngIf="usersMergeForm.controls.email.errors?.['pattern']"
          >
            invalid
          </div>
            </div>
          </div>

          <div *ngIf="!usersMergeForm.value.issystem" class="form-check">
            <input
              class="form-check-input"
              type="checkbox"
              formControlName="isapproved"
              id="isapproved"
            />
            <label class="form-check-label" for="isapproved">
              Approved
            </label>
          </div>
          
          <div class="form-check">
            <input
              class="form-check-input"
              type="checkbox"
              formControlName="issystem"
              id="issystem"
            />
            <label class="form-check-label" for="issystem"> System </label>
          </div>
          <div *ngIf="usersMergeForm.value.issystem" class="form-check">
            <input
              class="form-check-input"
              type="checkbox"
              formControlName="issystemapproved"
              id="issystemapproved"
            />
            <label class="form-check-label" for="issystemapproved">
              System Approved
            </label>
          </div>

          <!-- <div class="input-group input-group-sm d-flex flex-row mb-3">
                        <span class="input-group-text" id="parentid">Wishlist</span>
                        <ng-select
                          class="flex-grow-1"
                          [items]="usersList"
                          bindLabel="name"
                          bindValue="id"
                          formControlName="parentid"
                        >
                        </ng-select>
                      </div>
                      <div class="input-group input-group-sm d-flex flex-row mb-3">
                        <span class="input-group-text" id="parentid">Cart</span>
                        <ng-select
                          class="flex-grow-1"
                          [items]="usersList"
                          bindLabel="name"
                          bindValue="id"
                          formControlName="parentid"
                        >
                        </ng-select>
                      </div> -->
        </div>
      </div>
    </div>
  </div>
</div>
